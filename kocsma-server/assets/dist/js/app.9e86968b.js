(function(e){function t(t){for(var o,s,c=t[0],a=t[1],u=t[2],d=0,b=[];d<c.length;d++)s=c[d],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&b.push(i[s][0]),i[s]=0;for(o in a)Object.prototype.hasOwnProperty.call(a,o)&&(e[o]=a[o]);l&&l(t);while(b.length)b.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],o=!0,c=1;c<n.length;c++){var a=n[c];0!==i[a]&&(o=!1)}o&&(r.splice(t--,1),e=s(s.s=n[0]))}return e}var o={},i={app:0},r=[];function s(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=o,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)s.d(n,o,function(t){return e[t]}.bind(null,o));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],a=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var l=a;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"063a":function(e,t,n){},"0ea0":function(e,t,n){"use strict";n("7cfd")},"352f":function(e,t,n){},"3c35":function(e,t,n){},"3cc0":function(e,t,n){"use strict";n("063a")},"425f":function(e,t,n){},"508c":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("7a23"),i=Object(o["f"])("h1",null,"Kocsmahút",-1),r={key:0,id:"nav"},s=Object(o["g"])("JOIN GAME"),c=Object(o["g"])(" | "),a=Object(o["g"])("CREATE GAME"),u=Object(o["g"])(" | "),l=Object(o["g"])("HOW TO PLAY"),d=Object(o["g"])(" | "),b=Object(o["g"])("LEADERBOARD"),f={key:1,id:"nav"},p=Object(o["f"])("div",{id:"footer"},"© copyright 2021 Kocsmahoot ",-1);function m(e,t,n,m,O,j){var h=Object(o["z"])("router-link"),g=Object(o["z"])("router-view");return Object(o["s"])(),Object(o["e"])("div",null,[i,this.$store.getters.getGameStartedState?(Object(o["s"])(),Object(o["e"])("div",f)):(Object(o["s"])(),Object(o["e"])("div",r,[Object(o["h"])(h,{style:{"text-decoration":"none"},to:"/"},{default:Object(o["F"])((function(){return[s]})),_:1}),c,Object(o["h"])(h,{style:{"text-decoration":"none"},to:"/create-game"},{default:Object(o["F"])((function(){return[a]})),_:1}),u,Object(o["h"])(h,{style:{"text-decoration":"none"},to:"/how-to-play"},{default:Object(o["F"])((function(){return[l]})),_:1}),d,Object(o["h"])(h,{style:{"text-decoration":"none"},to:"/leaderboard"},{default:Object(o["F"])((function(){return[b]})),_:1})])),Object(o["h"])(g),p])}var O={data:function(){return{ShowNavBar:!0}}},j=(n("7e57"),n("6b0d")),h=n.n(j);const g=h()(O,[["render",m]]);var v=g,q=n("6c02"),w=function(e){return Object(o["v"])("data-v-67c2c156"),e=e(),Object(o["t"])(),e},y={id:"enter-pin-component"},x=w((function(){return Object(o["f"])("h2",null,"Join Game",-1)})),I=w((function(){return Object(o["f"])("h3",null,"Enter your PIN below:",-1)})),S={id:"pin-enter-form"},D=w((function(){return Object(o["f"])("p",null,"You can get the game-PIN from the admin of your team.",-1)}));function k(e,t,n,i,r,s){var c=this;return Object(o["s"])(),Object(o["e"])("div",y,[x,I,Object(o["f"])("div",S,[Object(o["f"])("div",null,[Object(o["G"])(Object(o["f"])("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=function(e){return c.PIN=e})},null,512),[[o["D"],this.PIN]]),Object(o["f"])("button",{id:"go-button",class:"start-game-button",onClick:t[1]||(t[1]=function(){return s.goButtonPushed&&s.goButtonPushed.apply(s,arguments)})}," GO! ")])]),D])}var N=n("1da1"),z=(n("96cf"),n("d3b7"),""),T={props:{},data:function(){return{PIN:null}},methods:{goButtonPushed:function(){var e=this;return Object(N["a"])(regeneratorRuntime.mark((function t(){var n,o,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,n=z+"join-game?pin="+String(e.PIN),console.log("Requesting:"+n),t.next=5,fetch(n);case 5:return o=t.sent,t.next=8,o.json();case 8:i=t.sent,console.log("Response to join-game",i),1==i.validPin?(e.$store.commit("loadQuestions",i.list),e.$store.commit("updatePIN",e.PIN),e.$store.commit("setBoardID",i.boardID),e.$store.commit("setTeamName",i.teamName),e.$store.commit("setGameStarted"),e.$router.push({name:"WaitingForGameStartGuest"})):e.PIN="Invalid PIN",t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](0),console.log(t.t0);case 16:case"end":return t.stop()}}),t,null,[[0,13]])})))()}}};n("edfb");const Q=h()(T,[["render",k],["__scopeId","data-v-67c2c156"]]);var $=Q,B=(n("a4d3"),n("e01a"),function(e){return Object(o["v"])("data-v-4a265785"),e=e(),Object(o["t"])(),e}),P={key:0},R={key:1},G=B((function(){return Object(o["f"])("h2",null,"Choose your Kocsmahút!",-1)})),C={class:"list-of-quizzes"};function A(e,t,n,i,r,s){var c=Object(o["z"])("quiz-list-item");return Object(o["s"])(),Object(o["e"])("div",null,[r.loaded?Object(o["d"])("",!0):(Object(o["s"])(),Object(o["e"])("div",P,[Object(o["f"])("h2",null,Object(o["B"])(this.loadingText),1)])),r.loaded?(Object(o["s"])(),Object(o["e"])("div",R,[G,Object(o["f"])("ul",C,[(Object(o["s"])(!0),Object(o["e"])(o["a"],null,Object(o["y"])(r.listOfQuizzes,(function(e){return Object(o["s"])(),Object(o["e"])("li",{key:e.title},[Object(o["h"])(c,{quizID:e.id,title:e.title,description:e.description},null,8,["quizID","title","description"])])})),128))])])):Object(o["d"])("",!0)])}var _={class:"quiz-list-item"},L={id:"title"},F=Object(o["g"])("Start this quiz"),E={key:0};function U(e,t,n,i,r,s){var c=Object(o["z"])("router-link");return Object(o["s"])(),Object(o["e"])("div",_,[Object(o["f"])("div",null,[Object(o["f"])("p",L,Object(o["B"])(n.title),1),Object(o["f"])("button",{id:"desc-button",class:"cancel-button",onClick:t[0]||(t[0]=function(){return s.ToggleShowDescription&&s.ToggleShowDescription.apply(s,arguments)})},Object(o["B"])(r.ShowDescriptionText),1),Object(o["f"])("button",{id:"start-button",onClick:t[1]||(t[1]=function(){return s.saveQuizID&&s.saveQuizID.apply(s,arguments)})},[Object(o["h"])(c,{style:{"text-decoration":"none"},to:{name:"EnterTeamName",params:{name:this.title}}},{default:Object(o["F"])((function(){return[F]})),_:1},8,["to"])])]),r.ShowDescription?(Object(o["s"])(),Object(o["e"])("p",E,Object(o["B"])(n.description),1)):Object(o["d"])("",!0)])}n("a9e3");var W={props:{quizID:{required:!0,type:Number},title:{required:!0,type:String},description:{required:!0,type:String}},data:function(){return{ShowDescription:!1,ShowDescriptionText:"Show description"}},methods:{ToggleShowDescription:function(){this.ShowDescription=!this.ShowDescription,this.ShowDescription?this.ShowDescriptionText="Hide description":this.ShowDescriptionText="Show description"},saveQuizID:function(){console.log("Saving quizID to vuex:",this.$props.quizID),this.$store.commit("setQuizID",this.$props.quizID)}}};n("60e9");const H=h()(W,[["render",U],["__scopeId","data-v-35b800a0"]]);var J=H,M="",V={components:{QuizListItem:J},props:{},data:function(){return{loadingText:"Loading available quizzes...",loaded:!1,post:null,error:null,listOfQuizzes:null}},created:function(){this.fetchData()},methods:{fetchData:function(){var e=this;return Object(N["a"])(regeneratorRuntime.mark((function t(){var n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(M+"/quiz-list");case 3:return n=t.sent,t.next=6,n.json();case 6:o=t.sent,e.listOfQuizzes=o.list,console.log("LIST OF QUIZZES"),console.log(e.listOfQuizzes),e.loaded=!0,t.next=17;break;case 13:t.prev=13,t.t0=t["catch"](0),e.loadingText="Can't load quiz list. Drink a beer instead!",console.log(t.t0);case 17:case"end":return t.stop()}}),t,null,[[0,13]])})))()}}};n("d7c0");const Y=h()(V,[["render",A],["__scopeId","data-v-4a265785"]]);var K=Y,Z=Object(o["f"])("h2",null," Upload new game ",-1),X=[Z];function ee(e,t,n,i,r,s){return Object(o["s"])(),Object(o["e"])("div",null,X)}var te={props:{}};const ne=h()(te,[["render",ee]]);var oe=ne,ie=function(e){return Object(o["v"])("data-v-4ae15b90"),e=e(),Object(o["t"])(),e},re=ie((function(){return Object(o["f"])("h2",null,"How to play this game?",-1)})),se=ie((function(){return Object(o["f"])("iframe",{src:"https://www.youtube.com/embed/dQw4w9WgXcQ",title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""},null,-1)})),ce=[re,se];function ae(e,t,n,i,r,s){return Object(o["s"])(),Object(o["e"])("div",null,ce)}var ue={props:{}};n("0ea0");const le=h()(ue,[["render",ae],["__scopeId","data-v-4ae15b90"]]);var de=le,be=function(e){return Object(o["v"])("data-v-9b73c994"),e=e(),Object(o["t"])(),e},fe=be((function(){return Object(o["f"])("h2",null,"Leaderboard",-1)})),pe={key:0},me={key:1},Oe={class:"list-of-quizzes"};function je(e,t,n,i,r,s){var c=Object(o["z"])("results-list-item");return Object(o["s"])(),Object(o["e"])("div",null,[fe,r.loaded?Object(o["d"])("",!0):(Object(o["s"])(),Object(o["e"])("div",pe,[Object(o["f"])("h3",null,Object(o["B"])(this.loadingText),1)])),r.loaded?(Object(o["s"])(),Object(o["e"])("div",me,[Object(o["f"])("ul",Oe,[(Object(o["s"])(!0),Object(o["e"])(o["a"],null,Object(o["y"])(this.results,(function(e){return Object(o["s"])(),Object(o["e"])("li",{key:e.id},[Object(o["h"])(c,{quizName:e.quizName,count:e.count,teams:e.teams},null,8,["quizName","count","teams"])])})),128))])])):Object(o["d"])("",!0)])}var he=n("b85c"),ge={class:"quiz-list-item"},ve={id:"title"},qe={key:0},we={class:"list-of-quizzes"},ye={id:"team-name"};function xe(e,t,n,i,r,s){return Object(o["s"])(),Object(o["e"])("div",ge,[Object(o["f"])("div",null,[Object(o["f"])("p",ve,Object(o["B"])(n.quizName),1),Object(o["f"])("button",{id:"desc-button",onClick:t[0]||(t[0]=function(){return s.ToggleShowDescription&&s.ToggleShowDescription.apply(s,arguments)})},Object(o["B"])(r.ShowDescriptionText),1)]),r.ShowDescription?(Object(o["s"])(),Object(o["e"])("div",qe,[Object(o["f"])("ol",we,[(Object(o["s"])(!0),Object(o["e"])(o["a"],null,Object(o["y"])(n.teams,(function(e){return Object(o["s"])(),Object(o["e"])("li",{key:e.TeamName},[Object(o["f"])("p",ye,Object(o["B"])(e.TeamName),1),Object(o["f"])("p",null,Object(o["B"])(e.score)+" / "+Object(o["B"])(n.count),1)])})),128))])])):Object(o["d"])("",!0)])}var Ie={props:{quizName:{required:!0,type:String},count:{required:!0,type:Number},teams:{required:!0}},data:function(){return{ShowDescription:!1,ShowDescriptionText:"Show results"}},created:function(){console.log("added new quiz element"),console.log(this.$props.quizName)},methods:{ToggleShowDescription:function(){this.ShowDescription=!this.ShowDescription,this.ShowDescription?this.ShowDescriptionText="Hide results":this.ShowDescriptionText="Show results"}}};n("9dbf");const Se=h()(Ie,[["render",xe],["__scopeId","data-v-1beb6a87"]]);var De=Se,ke="",Ne={components:{ResultsListItem:De},data:function(){return{loadingText:"Loading leaderboard ...",loaded:!1,post:null,error:null,results:null}},created:function(){this.fetchData()},methods:{fetchData:function(){var e=this;return Object(N["a"])(regeneratorRuntime.mark((function t(){var n,o,i,r,s,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(ke+"/get-leaderboard");case 3:return n=t.sent,t.next=6,n.json();case 6:o=t.sent,e.results=o.list,i=0,r=Object(he["a"])(e.results);try{for(r.s();!(s=r.n()).done;)c=s.value,c["id"]=i,i++}catch(a){r.e(a)}finally{r.f()}console.log(e.results),e.loaded=!0,t.next=19;break;case 15:t.prev=15,t.t0=t["catch"](0),e.loadingText="Can't load leaderboard. Drink a beer instead!",console.log(t.t0);case 19:case"end":return t.stop()}}),t,null,[[0,15]])})))()}}};n("9427");const ze=h()(Ne,[["render",je],["__scopeId","data-v-9b73c994"]]);var Te=ze,Qe=(n("b0c0"),function(e){return Object(o["v"])("data-v-409fdfa0"),e=e(),Object(o["t"])(),e}),$e=Qe((function(){return Object(o["f"])("h2",null,"Enter the name of your team!",-1)})),Be={id:"teamname-enter-form"},Pe=Object(o["g"])(" GO! ");function Re(e,t,n,i,r,s){var c=this,a=Object(o["z"])("router-link");return Object(o["s"])(),Object(o["e"])("div",null,[Object(o["f"])("h2",null,Object(o["B"])(e.$route.params.name),1),$e,Object(o["f"])("div",Be,[Object(o["f"])("div",null,[Object(o["G"])(Object(o["f"])("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=function(e){return c.teamName=e})},null,512),[[o["D"],this.teamName]]),Object(o["f"])("button",{class:"start-game-button",onClick:t[1]||(t[1]=function(){return s.SetGameStarted&&s.SetGameStarted.apply(s,arguments)})},[Object(o["h"])(a,{style:{"text-decoration":"none"},to:{name:"WaitingForGameStartAdmin",params:{teamName:this.teamName}}},{default:Object(o["F"])((function(){return[Pe]})),_:1},8,["to"])])])])])}var Ge={props:{},data:function(){return{teamName:null}},methods:{SetGameStarted:function(){this.$store.commit("setGameStarted"),this.$store.commit("setTeamName",this.teamName)}}};n("df7f");const Ce=h()(Ge,[["render",Re],["__scopeId","data-v-409fdfa0"]]);var Ae=Ce,_e=function(e){return Object(o["v"])("data-v-61ccf7b8"),e=e(),Object(o["t"])(),e},Le={id:"holder"},Fe={key:0},Ee={key:1},Ue=_e((function(){return Object(o["f"])("h2",null,"Waiting for guests to join.",-1)})),We={id:"spinner-holder"},He={id:"buttons-holder"},Je={id:"start-button"},Me=Object(o["g"])(" Start ");function Ve(e,t,n,i,r,s){var c=Object(o["z"])("half-circle-spinner"),a=Object(o["z"])("router-link");return Object(o["s"])(),Object(o["e"])("div",Le,[r.loaded?Object(o["d"])("",!0):(Object(o["s"])(),Object(o["e"])("div",Fe,[Object(o["f"])("h2",null,Object(o["B"])(this.loadingText),1)])),r.loaded?(Object(o["s"])(),Object(o["e"])("div",Ee,[Ue,Object(o["f"])("h3",null,"PIN: "+Object(o["B"])(r.PIN),1),Object(o["f"])("h3",null,"Team name: "+Object(o["B"])(this.$store.getters.getTeamName),1),Object(o["f"])("div",We,[Object(o["h"])(c,{id:"spinner","animation-duration":1e3,size:120,color:"#D6D6D6"})]),Object(o["f"])("div",He,[Object(o["f"])("button",Je,[Object(o["h"])(a,{style:{"text-decoration":"none"},to:"/question"},{default:Object(o["F"])((function(){return[Me]})),_:1})]),Object(o["f"])("button",{onClick:t[0]||(t[0]=function(){return s.navigateBack&&s.navigateBack.apply(s,arguments)}),class:"cancel-button",id:"cancel-button"},"Cancel")])])):Object(o["d"])("",!0)])}var Ye=n("4583"),Ke="",Ze={components:{HalfCircleSpinner:Ye["a"]},data:function(){return{PIN:null,loadingText:"Loading questions...",loaded:!1,post:null,error:null}},created:function(){console.log("QuizID, "+String(this.$store.getters.getQuizID)),console.log("Teamname: "+String(this.$route.params.teamName)),this.fetchQuestionsAndPIN()},mounted:function(){window.addEventListener("beforeunload",this.onClose)},beforeUnmount:function(){window.removeEventListener("beforeunload",this.onClose)},beforeRouteLeave:function(e,t,n){var o=this;return Object(N["a"])(regeneratorRuntime.mark((function t(){var i,r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(console.log(e.path),"/question"!=e.path){t.next=5;break}n(),t.next=24;break;case 5:if(i=window.confirm("Do you really want to leave?"),!i){t.next=23;break}return n(),o.$store.commit("unsetGameStarted"),t.prev=9,r=Ke+"/cancel?pin="+String(o.$store.getters.getPIN),console.log("Requesting:"+r),t.next=14,fetch(r);case 14:s=t.sent,console.log(s),t.next=21;break;case 18:t.prev=18,t.t0=t["catch"](9),console.log(t.t0);case 21:t.next=24;break;case 23:n(!1);case 24:case"end":return t.stop()}}),t,null,[[9,18]])})))()},methods:{navigateBack:function(){this.$router.push({name:"CreateGame"})},fetchQuestionsAndPIN:function(){var e=this;return Object(N["a"])(regeneratorRuntime.mark((function t(){var n,o,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,n=Ke+"/quiz-questions?quizID="+String(e.$store.getters.getQuizID)+"&teamName="+String(e.$route.params.teamName),console.log("Requesting:"+n),t.next=5,fetch(n);case 5:return o=t.sent,t.next=8,o.json();case 8:i=t.sent,e.$store.commit("loadQuestions",i.list),e.$store.commit("updatePIN",i.pin),e.PIN=i.pin,e.loaded=!0,console.log("Loaded questions"),console.log("Questions:",e.$store.getters.getQuestions),t.next=21;break;case 17:t.prev=17,t.t0=t["catch"](0),e.loadingText="Can't load questions. Drink a beer instead!",console.log(t.t0);case 21:case"end":return t.stop()}}),t,null,[[0,17]])})))()},onClose:function(e){navigator.sendBeacon(Ke+"/cancel?pin="+String(this.PIN)),delete e["returnValue"]}}};n("d74c");const Xe=h()(Ze,[["render",Ve],["__scopeId","data-v-61ccf7b8"]]);var et=Xe,tt=function(e){return Object(o["v"])("data-v-1b00a338"),e=e(),Object(o["t"])(),e},nt={id:"holder"},ot=tt((function(){return Object(o["f"])("h2",null,"Waiting for the game to start.",-1)})),it={id:"spinner-holder"},rt={id:"status-text"},st={id:"buttons-holder"};function ct(e,t,n,i,r,s){var c=Object(o["z"])("half-circle-spinner");return Object(o["s"])(),Object(o["e"])("div",nt,[ot,Object(o["f"])("h3",null,"PIN: "+Object(o["B"])(this.$store.getters.getPIN),1),Object(o["f"])("h3",null,"Team name: "+Object(o["B"])(this.$store.getters.getTeamName),1),Object(o["f"])("div",it,[Object(o["h"])(c,{id:"spinner","animation-duration":1e3,size:120,color:"#D6D6D6"})]),Object(o["f"])("h3",rt,Object(o["B"])(this.statusText),1),Object(o["f"])("div",st,[Object(o["f"])("button",{id:"button-refresh",onClick:t[0]||(t[0]=function(){return s.refresh&&s.refresh.apply(s,arguments)})},"Refresh"),Object(o["f"])("button",{id:"button-cancel",class:"cancel-button",onClick:t[1]||(t[1]=function(){return s.navigateBack&&s.navigateBack.apply(s,arguments)})},"Cancel")])])}var at="",ut={components:{HalfCircleSpinner:Ye["a"]},data:function(){return{statusText:null}},beforeRouteLeave:function(e,t,n){var o=this;return Object(N["a"])(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:"/question-guest"==e.path?n():(i=window.confirm("Do you really want to leave?"),i?(o.$store.commit("unsetGameStarted"),n()):n(!1));case 1:case"end":return t.stop()}}),t)})))()},methods:{navigateBack:function(){history.back()},refresh:function(){var e=this;return Object(N["a"])(regeneratorRuntime.mark((function t(){var n,o,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,n=at+"/get-current-question?pin="+String(e.$store.getters.getPIN)+"&boardID="+String(e.$store.getters.getBoardID),console.log("Requesting:"+n),t.next=5,fetch(n);case 5:return o=t.sent,t.next=8,o.json();case 8:i=t.sent,console.log("response",i),console.log("finished",i.finished),e.statusText="",0==i.finished?(console.log("Game is running"),-1==i.questionID?e.statusText="The quiz is not yet started.":(console.log("Quiz is started. Question ID = ",i.questionID),e.$router.push({name:"QuestionGuest"}))):1==i.finished?(e.$store.commit("unsetGameStarted"),e.$router.push({name:"ShowResult",params:{correctAnswers:i.score,allQuestions:e.$store.getters.getQuestions.length}})):2==i.finished&&(console.log("Quiz was cancelled."),e.$store.commit("unsetGameStarted"),e.statusText="The quiz was cancelled."),t.next=18;break;case 15:t.prev=15,t.t0=t["catch"](0),console.log(t.t0);case 18:case"end":return t.stop()}}),t,null,[[0,15]])})))()}}};n("f05f");const lt=h()(ut,[["render",ct],["__scopeId","data-v-1b00a338"]]);var dt=lt,bt={key:0},ft={key:1};function pt(e,t,n,i,r,s){var c=Object(o["z"])("question-item");return Object(o["s"])(),Object(o["e"])("div",null,[r.loaded?Object(o["d"])("",!0):(Object(o["s"])(),Object(o["e"])("div",bt,[Object(o["f"])("h2",null,Object(o["B"])(this.loadingText),1)])),r.loaded?(Object(o["s"])(),Object(o["e"])("div",ft,[Object(o["h"])(c,{inputQuestions:this.questions},null,8,["inputQuestions"])])):Object(o["d"])("",!0)])}var mt=function(e){return Object(o["v"])("data-v-e4501ff2"),e=e(),Object(o["t"])(),e},Ot={key:0,class:"choice-container"},jt={class:"option-container",for:"option1"},ht={class:"option-label"},gt={class:"option-text"},vt={class:"option-container"},qt={class:"option-label"},wt={class:"option-text"},yt={class:"option-container"},xt={class:"option-label"},It={class:"option-text"},St={class:"option-container"},Dt={class:"option-label"},kt={class:"option-text"},Nt={key:1,class:"tf-container"},zt={class:"option-container",for:"optionT"},Tt={class:"option-label"},Qt=mt((function(){return Object(o["f"])("span",{class:"option-text"},"True",-1)})),$t={class:"option-container"},Bt={class:"option-label"},Pt=mt((function(){return Object(o["f"])("span",{class:"option-text"},"False",-1)})),Rt={key:2,class:"numeric-container"},Gt={class:"option-container"},Ct={id:"submit-button-holder"};function At(e,t,n,i,r,s){return Object(o["s"])(),Object(o["e"])("div",null,[Object(o["f"])("div",null,[Object(o["f"])("h2",null,Object(o["B"])(r.questions[r.questionNumber]["question"]),1)]),0===this.questions[this.questionNumber]["layoutID"]?(Object(o["s"])(),Object(o["e"])("div",Ot,[Object(o["f"])("div",jt,[Object(o["f"])("label",ht,[Object(o["f"])("input",{type:"radio",id:"option1",name:"option",value:"1",onClick:t[0]||(t[0]=function(e){return s.update(1)})}),Object(o["f"])("span",gt,Object(o["B"])(r.questions[r.questionNumber]["A1"]),1)])]),Object(o["f"])("div",vt,[Object(o["f"])("label",qt,[Object(o["f"])("input",{type:"radio",id:"option2",name:"option",value:"2",onClick:t[1]||(t[1]=function(e){return s.update(2)})}),Object(o["f"])("span",wt,Object(o["B"])(r.questions[r.questionNumber]["A2"]),1)])]),Object(o["f"])("div",yt,[Object(o["f"])("label",xt,[Object(o["f"])("input",{type:"radio",id:"option3",name:"option",value:"3",onClick:t[2]||(t[2]=function(e){return s.update(3)})}),Object(o["f"])("span",It,Object(o["B"])(r.questions[r.questionNumber]["A3"]),1)])]),Object(o["f"])("div",St,[Object(o["f"])("label",Dt,[Object(o["f"])("input",{type:"radio",id:"option4",name:"option",value:"4",onClick:t[3]||(t[3]=function(e){return s.update(4)})}),Object(o["f"])("span",kt,Object(o["B"])(r.questions[r.questionNumber]["A4"]),1)])])])):Object(o["d"])("",!0),1===this.questions[this.questionNumber]["layoutID"]?(Object(o["s"])(),Object(o["e"])("div",Nt,[Object(o["f"])("div",zt,[Object(o["f"])("label",Tt,[Object(o["f"])("input",{type:"radio",id:"optionT",name:"option",value:"true",onClick:t[4]||(t[4]=function(e){return s.update(1)})}),Qt])]),Object(o["f"])("div",$t,[Object(o["f"])("label",Bt,[Object(o["f"])("input",{type:"radio",id:"optionF",name:"option",value:"false",onClick:t[5]||(t[5]=function(e){return s.update(2)})}),Pt])])])):Object(o["d"])("",!0),2===this.questions[this.questionNumber]["layoutID"]?(Object(o["s"])(),Object(o["e"])("div",Rt,[Object(o["f"])("div",Gt,[Object(o["G"])(Object(o["f"])("input",{type:"number",id:"numeric-ans","onUpdate:modelValue":t[6]||(t[6]=function(e){return r.numericAns=e})},null,512),[[o["D"],r.numericAns,void 0,{lazy:!0,trim:!0}]])])])):Object(o["d"])("",!0),Object(o["f"])("div",Ct,[Object(o["f"])("button",{id:"submit-button",class:"cancel-button",onClick:t[7]||(t[7]=function(e){return s.cancel()})},"Cancel"),Object(o["f"])("button",{id:"submit-button",onClick:t[8]||(t[8]=function(e){return s.submit()})},"Submit")])])}n("e9c4");var _t="",Lt={props:{inputQuestions:{required:!0}},data:function(){return{questions:null,noOfQuestions:0,answer:-1,collectedAnswers:[],numericAns:0,questionNumber:0}},created:function(){var e=this;return Object(N["a"])(regeneratorRuntime.mark((function t(){var n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.questions=e.$props.inputQuestions,e.noOfQuestions=e.questions.length,n=_t+"/set-current-question?pin="+String(e.$store.getters.getPIN)+"&questionID="+String(e.questions[0]["questionID"]),console.log("Requesting:"+n),t.next=6,fetch(n);case 6:o=t.sent,console.log(o);case 8:case"end":return t.stop()}}),t)})))()},methods:{update:function(e){this.answer=e},submit:function(){var e=this;return Object(N["a"])(regeneratorRuntime.mark((function t(){var n,o,i,r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(-1!==e.answer||2==e.questions[e.questionNumber]["layoutID"]){t.next=4;break}window.alert("You have to enter an answer."),t.next=29;break;case 4:if(2==e.questions[e.questionNumber]["layoutID"]?(console.log(e.numericAns),e.collectedAnswers.push({questionID:e.questions[e.questionNumber]["questionID"],answer:e.numericAns})):(console.log(e.answer),e.collectedAnswers.push({questionID:e.questions[e.questionNumber]["questionID"],answer:e.answer})),e.answer=-1,console.log("All answers",e.collectedAnswers),e.questionNumber!=e.noOfQuestions-1){t.next=22;break}return console.log("Finished quiz"),n=JSON.stringify({pin:e.$store.getters.getPIN,answers:e.collectedAnswers}),console.log("Body of request",n),t.next=13,fetch(_t+"/submit-quiz",{method:"POST",body:n,headers:{"Content-type":"application/json; charset=UTF-8"}});case 13:return o=t.sent,t.next=16,o.json();case 16:i=t.sent,console.log("Result of quiz",i.score),e.$store.commit("unsetGameStarted"),e.$router.push({name:"ShowResult",params:{correctAnswers:i.score,allQuestions:e.noOfQuestions}}),t.next=29;break;case 22:return r=_t+"/set-current-question?pin="+String(e.$store.getters.getPIN)+"&questionID="+String(e.questions[e.questionNumber+1]["questionID"]),console.log("Requesting:"+r),t.next=26,fetch(r);case 26:s=t.sent,console.log(s),e.questionNumber+=1;case 29:case"end":return t.stop()}}),t)})))()},cancel:function(){var e=this;return Object(N["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$router.push({name:"CreateGame"});case 1:case"end":return t.stop()}}),t)})))()}}};n("3cc0");const Ft=h()(Lt,[["render",At],["__scopeId","data-v-e4501ff2"]]);var Et=Ft,Ut="",Wt={components:{QuestionItem:Et},data:function(){return{loadingText:"Loading questions.",loaded:!1,post:null,error:null,questions:null}},created:function(){try{this.questions=this.$store.getters.getQuestions,this.loaded=!0}catch(e){this.loadingText="Can't load questions. Drink a beer instead!",console.log(e)}},mounted:function(){window.addEventListener("beforeunload",this.onClose)},beforeUnmount:function(){window.removeEventListener("beforeunload",this.onClose)},beforeRouteLeave:function(e,t,n){var o=this;return Object(N["a"])(regeneratorRuntime.mark((function t(){var i,r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(console.log(e.path),"/question"!=e.path&&"/show-result"!=e.path){t.next=5;break}n(),t.next=26;break;case 5:if(i=window.confirm("Do you really want to leave?"),!i){t.next=25;break}return t.prev=7,r=Ut+"/cancel?pin="+String(o.$store.getters.getPIN),console.log("Requesting:"+r),t.next=12,fetch(r);case 12:s=t.sent,console.log(s),t.next=19;break;case 16:t.prev=16,t.t0=t["catch"](7),console.log(t.t0);case 19:return t.prev=19,n(),o.$store.commit("unsetGameStarted"),t.finish(19);case 23:t.next=26;break;case 25:n(!1);case 26:case"end":return t.stop()}}),t,null,[[7,16,19,23]])})))()},methods:{onClose:function(e){navigator.sendBeacon(Ut+"/cancel?pin="+String(this.PIN)),delete e["returnValue"]}}};const Ht=h()(Wt,[["render",pt]]);var Jt=Ht,Mt={key:0},Vt={key:1};function Yt(e,t,n,i,r,s){var c=Object(o["z"])("question-guest-item");return Object(o["s"])(),Object(o["e"])("div",null,[r.loaded?Object(o["d"])("",!0):(Object(o["s"])(),Object(o["e"])("div",Mt,[Object(o["f"])("h2",null,Object(o["B"])(this.loadingText),1)])),r.loaded?(Object(o["s"])(),Object(o["e"])("div",Vt,[Object(o["h"])(c,{inputQuestions:this.questions},null,8,["inputQuestions"])])):Object(o["d"])("",!0)])}var Kt=function(e){return Object(o["v"])("data-v-403cec83"),e=e(),Object(o["t"])(),e},Zt={key:0,class:"choice-container"},Xt={class:"option-container",for:"option1"},en={class:"option-label"},tn={class:"option-text"},nn={class:"option-container"},on={class:"option-label"},rn={class:"option-text"},sn={class:"option-container"},cn={class:"option-label"},an={class:"option-text"},un={class:"option-container"},ln={class:"option-label"},dn={class:"option-text"},bn={key:1,class:"tf-container"},fn={class:"option-container",for:"optionT"},pn={class:"option-label"},mn=Kt((function(){return Object(o["f"])("span",{class:"option-text"},"True",-1)})),On={class:"option-container"},jn={class:"option-label"},hn=Kt((function(){return Object(o["f"])("span",{class:"option-text"},"False",-1)})),gn={key:2,class:"numeric-container"},vn={class:"option-container"},qn={id:"refresh-button-holder"};function wn(e,t,n,i,r,s){return Object(o["s"])(),Object(o["e"])("div",null,[Object(o["f"])("div",null,[Object(o["f"])("h2",null,Object(o["B"])(r.questions[r.questionNumber]["question"]),1)]),0===this.questions[this.questionNumber]["layoutID"]?(Object(o["s"])(),Object(o["e"])("div",Zt,[Object(o["f"])("div",Xt,[Object(o["f"])("label",en,[Object(o["f"])("input",{type:"radio",id:"option1",name:"option",value:"1",onClick:t[0]||(t[0]=function(e){return s.update(1)})}),Object(o["f"])("span",tn,Object(o["B"])(r.questions[r.questionNumber]["A1"]),1)])]),Object(o["f"])("div",nn,[Object(o["f"])("label",on,[Object(o["f"])("input",{type:"radio",id:"option2",name:"option",value:"2",onClick:t[1]||(t[1]=function(e){return s.update(2)})}),Object(o["f"])("span",rn,Object(o["B"])(r.questions[r.questionNumber]["A2"]),1)])]),Object(o["f"])("div",sn,[Object(o["f"])("label",cn,[Object(o["f"])("input",{type:"radio",id:"option3",name:"option",value:"3",onClick:t[2]||(t[2]=function(e){return s.update(3)})}),Object(o["f"])("span",an,Object(o["B"])(r.questions[r.questionNumber]["A3"]),1)])]),Object(o["f"])("div",un,[Object(o["f"])("label",ln,[Object(o["f"])("input",{type:"radio",id:"option4",name:"option",value:"4",onClick:t[3]||(t[3]=function(e){return s.update(4)})}),Object(o["f"])("span",dn,Object(o["B"])(r.questions[r.questionNumber]["A4"]),1)])])])):Object(o["d"])("",!0),1===this.questions[this.questionNumber]["layoutID"]?(Object(o["s"])(),Object(o["e"])("div",bn,[Object(o["f"])("div",fn,[Object(o["f"])("label",pn,[Object(o["f"])("input",{type:"radio",id:"optionT",name:"option",value:"true",onClick:t[4]||(t[4]=function(e){return s.update(1)})}),mn])]),Object(o["f"])("div",On,[Object(o["f"])("label",jn,[Object(o["f"])("input",{type:"radio",id:"optionF",name:"option",value:"false",onClick:t[5]||(t[5]=function(e){return s.update(2)})}),hn])])])):Object(o["d"])("",!0),2===this.questions[this.questionNumber]["layoutID"]?(Object(o["s"])(),Object(o["e"])("div",gn,[Object(o["f"])("div",vn,[Object(o["G"])(Object(o["f"])("input",{type:"number",id:"numeric-ans","onUpdate:modelValue":t[6]||(t[6]=function(t){return e.numericAns=t})},null,512),[[o["D"],e.numericAns,void 0,{lazy:!0,trim:!0}]])])])):Object(o["d"])("",!0),Object(o["f"])("p",null,Object(o["B"])(this.statusText),1),Object(o["f"])("div",qn,[Object(o["f"])("button",{id:"refresh-button",onClick:t[7]||(t[7]=function(e){return s.refresh()})},"Refresh")])])}var yn="",xn={props:{inputQuestions:{required:!0}},created:function(){console.log("props question",this.$props.inputQuestions),this.questions=this.$props.inputQuestions,console.log("local questions",this.questions),this.noOfQuestions=this.questions.length,this.refresh()},data:function(){return{questions:null,noOfQuestions:0,questionNumber:0,statusText:"This answer is only visible on this device."}},methods:{update:function(e){this.answer=e},refresh:function(){var e=this;return Object(N["a"])(regeneratorRuntime.mark((function t(){var n,o,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,n=yn+"/get-current-question?pin="+String(e.$store.getters.getPIN)+"&boardID="+String(e.$store.getters.getBoardID),console.log("Requesting:"+n),t.next=5,fetch(n);case 5:return o=t.sent,t.next=8,o.json();case 8:i=t.sent,0==i.finished?e.questionNumber=i.questionID-1:1==i.finished?(e.$store.commit("unsetGameStarted"),e.$router.push({name:"ShowResult",params:{correctAnswers:i.score,allQuestions:e.$store.getters.getQuestions.length}})):2==i.finished&&(console.log("The quiz was cancelled."),e.statusText="Quiz was cancelled.",e.$store.commit("unsetGameStarted")),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](0),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})))()}}};n("c12f");const In=h()(xn,[["render",wn],["__scopeId","data-v-403cec83"]]);var Sn=In,Dn={components:{QuestionGuestItem:Sn},data:function(){return{loadingText:"Loading questions.",loaded:!1,post:null,error:null,questions:null}},created:function(){try{this.questions=this.$store.getters.getQuestions,console.log("Question guest view lodaded the questions.",this.questions),this.loaded=!0}catch(e){this.loadingText="Can't load questions. Drink a beer instead!",console.log(e)}}};const kn=h()(Dn,[["render",Yt]]);var Nn=kn;function zn(e,t,n,i,r,s){return Object(o["s"])(),Object(o["e"])("div",null,[Object(o["f"])("h2",null," The result of the quiz: "+Object(o["B"])(e.$route.params.correctAnswers)+" / "+Object(o["B"])(e.$route.params.allQuestions),1)])}var Tn={created:function(){this.$store.commit("unsetGameStarted")}};const Qn=h()(Tn,[["render",zn]]);var $n=Qn,Bn=[{path:"/",name:"JoinGame",component:$},{path:"/create-game",name:"CreateGame",component:K},{path:"/enter-team-name",name:"EnterTeamName",component:Ae},{path:"/waiting-for-game-start-admin",name:"WaitingForGameStartAdmin",component:et},{path:"/waiting-for-game-start-guest",name:"WaitingForGameStartGuest",component:dt},{path:"/upload-game",name:"UploadGame",component:oe},{path:"/how-to-play",name:"HowToPlay",component:de},{path:"/leaderboard",name:"Leaderboard",component:Te},{path:"/question",name:"Question",component:Jt},{path:"/question-guest",name:"QuestionGuest",component:Nn},{path:"/show-result",name:"ShowResult",component:$n}],Pn=Object(q["a"])({history:Object(q["b"])("/"),routes:Bn}),Rn=Pn,Gn=n("5502"),Cn=Object(Gn["a"])({state:{GameStarted:!1,QuizID:null,Questions:null,PIN:null,BoardID:null,TeamName:null},mutations:{setGameStarted:function(e){console.log("Setting game started"),e.GameStarted=!0},unsetGameStarted:function(e){e.GameStarted=!1},setQuizID:function(e,t){e.QuizID=t},loadQuestions:function(e,t){e.Questions=t},updatePIN:function(e,t){e.PIN=t},setBoardID:function(e,t){e.BoardID=t},setTeamName:function(e,t){e.TeamName=t}},actions:{},modules:{},getters:{getGameStartedState:function(e){return e.GameStarted},getQuizID:function(e){return e.QuizID},getQuestions:function(e){return e.Questions},getPIN:function(e){return e.PIN},getBoardID:function(e){return e.BoardID},getTeamName:function(e){return e.TeamName}}});Object(o["c"])(v).use(Cn).use(Rn).mount("#app")},"60e9":function(e,t,n){"use strict";n("352f")},"619e":function(e,t,n){},"7cfd":function(e,t,n){},"7e57":function(e,t,n){"use strict";n("b1a5")},"92db":function(e,t,n){},9427:function(e,t,n){"use strict";n("eb0e")},"9dbf":function(e,t,n){"use strict";n("3c35")},b1a5:function(e,t,n){},b939:function(e,t,n){},ba0b:function(e,t,n){},c12f:function(e,t,n){"use strict";n("425f")},d74c:function(e,t,n){"use strict";n("ba0b")},d7c0:function(e,t,n){"use strict";n("b939")},df7f:function(e,t,n){"use strict";n("92db")},eb0e:function(e,t,n){},edfb:function(e,t,n){"use strict";n("619e")},f05f:function(e,t,n){"use strict";n("508c")}});
//# sourceMappingURL=app.9e86968b.js.map